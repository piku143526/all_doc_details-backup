gcloud config set project "playground-s-11-66b712c0"
gcloud beta container clusters create "stage-demo-cluster" \  # change cluster name 
--no-enable-basic-auth \
--cluster-version "1.27.3-gke.100" \   
--release-channel "regular" \
--machine-type "e2-medium" \           # change required size 
--image-type "UBUNTU_CONTAINERD" \     # OS 
--disk-type "pd-balanced" \            # disk type 
--disk-size "25" \                     # Disk size 
--metadata disable-legacy-endpoints=true \
--scopes "https://www.googleapis.com/auth/devstorage.read_only","https://www.googleapis.com/auth/logging.write","https://www.googleapis.com/auth/monitoring","https://www.googleapis.com/auth/servicecontrol","https://www.googleapis.com/auth/service.management.readonly","https://www.googleapis.com/auth/trace.append" \
--num-nodes "1" \                    # Number of node group 
--logging=SYSTEM,WORKLOAD \
--monitoring=SYSTEM \
--enable-private-nodes \
--master-ipv4-cidr "172.16.0.0/28" \    
--enable-master-global-access \
--enable-ip-alias \
--network "projects/playground-s-11-66b712c0/global/networks/stage-demo-vpc" \                         # choose VPC 
--subnetwork "projects/playground-s-11-66b712c0/regions/us-east1/subnetworks/stage-private-subnet" \   #  choose subnet 
--no-enable-intra-node-visibility \  
--default-max-pods-per-node "110" \
--security-posture=standard \
--workload-vulnerability-scanning=disabled \
--no-enable-master-authorized-networks \
--addons HorizontalPodAutoscaling,HttpLoadBalancing,GcePersistentDiskCsiDriver \
--enable-autoupgrade \
--enable-autorepair \
--max-surge-upgrade 1 \
--max-unavailable-upgrade 0 \
--binauthz-evaluation-mode=DISABLED \
--enable-autoprovisioning \
--min-cpu 2 \
--max-cpu 8 \
--min-memory 4 \
--max-memory 16 \
--autoprovisioning-locations=us-east1-b \
--enable-autoprovisioning-autorepair \
--enable-autoprovisioning-autoupgrade \
--enable-managed-prometheus \
--enable-vertical-pod-autoscaling \
--enable-shielded-nodes \
--node-locations "us-east1-b"

